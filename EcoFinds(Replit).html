<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EcoFinds Marketplace</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html { scroll-behavior: smooth; }
    .hidden { display: none; }
    .glow:hover { box-shadow: 0 0 20px rgba(34,197,94,0.6); }
  </style>
</head>
<body class="bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 text-gray-900">

  <!-- 🌿 Navbar -->
  <nav class="flex justify-between items-center py-6 px-8 bg-white/80 backdrop-blur-md shadow-lg fixed w-full top-0 left-0 z-50">
    <div class="text-2xl font-extrabold bg-gradient-to-r from-green-500 to-blue-500 bg-clip-text text-transparent">EcoFinds</div>
    <div class="space-x-6 text-lg">
      <a href="#home" class="hover:text-green-600 transition">Home</a>
      <a href="#categories" class="hover:text-green-600 transition">Categories</a>
      <a href="#sell" class="hover:text-green-600 transition">Sell</a>
      <a href="#how-it-works" class="hover:text-green-600 transition">How It Works</a>
      <a href="#about" class="hover:text-green-600 transition">About</a>
      <a href="#login" class="bg-gradient-to-r from-green-500 to-blue-500 text-white px-4 py-2 rounded-xl shadow glow hover:scale-105 transition">Login</a>
    </div>
  </nav>

  <!-- 🌿 Home -->
  <section id="home" class="pt-32 text-center max-w-4xl mx-auto">
    <h1 class="text-6xl font-extrabold bg-gradient-to-r from-green-500 via-blue-500 to-purple-500 bg-clip-text text-transparent mb-6">Welcome to EcoFinds 🌱</h1>
    <p class="text-xl text-gray-700 mb-10">Buy & sell second-hand treasures in a colourful, intuitive marketplace.</p>
    <input id="searchBar" type="text" placeholder="🔍 Search categories..." class="w-80 px-4 py-3 border-2 rounded-lg mb-8 focus:outline-green-500">
  </section>

  <!-- 🌿 Categories -->
  <section id="categories" class="max-w-6xl mx-auto py-20">
    <h2 class="text-5xl font-bold text-center text-green-600 mb-14">Shop by Categories</h2>
    <div id="categoryList" class="space-y-10">
      <!-- Categories (each expandable) -->
      <div data-category="clothing" class="category bg-gradient-to-r from-pink-100 to-pink-200 rounded-xl p-6 shadow-lg hover:scale-[1.02] transition">
        <button onclick="toggleCategory('clothing')" class="w-full flex justify-between text-xl font-semibold">
          <span>👕 Clothing</span><span>▼</span>
        </button>
        <div id="clothing" class="hidden grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6"></div>
      </div>

      <div data-category="electronics" class="category bg-gradient-to-r from-blue-100 to-blue-200 rounded-xl p-6 shadow-lg hover:scale-[1.02] transition">
        <button onclick="toggleCategory('electronics')" class="w-full flex justify-between text-xl font-semibold">
          <span>📱 Electronics</span><span>▼</span>
        </button>
        <div id="electronics" class="hidden grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6"></div>
      </div>

      <div data-category="furniture" class="category bg-gradient-to-r from-yellow-100 to-yellow-200 rounded-xl p-6 shadow-lg hover:scale-[1.02] transition">
        <button onclick="toggleCategory('furniture')" class="w-full flex justify-between text-xl font-semibold">
          <span>🛋 Furniture</span><span>▼</span>
        </button>
        <div id="furniture" class="hidden grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6"></div>
      </div>

      <div data-category="books" class="category bg-gradient-to-r from-purple-100 to-purple-200 rounded-xl p-6 shadow-lg hover:scale-[1.02] transition">
        <button onclick="toggleCategory('books')" class="w-full flex justify-between text-xl font-semibold">
          <span>📚 Books</span><span>▼</span>
        </button>
        <div id="books" class="hidden grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6"></div>
      </div>

      <div data-category="sports" class="category bg-gradient-to-r from-green-100 to-green-200 rounded-xl p-6 shadow-lg hover:scale-[1.02] transition">
        <button onclick="toggleCategory('sports')" class="w-full flex justify-between text-xl font-semibold">
          <span>⚽ Sports</span><span>▼</span>
        </button>
        <div id="sports" class="hidden grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6"></div>
      </div>
    </div>
  </section>

  <!-- 🌿 Sell Section -->
  <section id="sell" class="max-w-2xl mx-auto py-20">
    <h2 class="text-5xl font-bold text-center text-green-600 mb-8">Sell Your Item</h2>
    <form id="sellForm" class="bg-white p-8 rounded-2xl shadow-lg space-y-6">
      <select id="itemCategory" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-green-500" required>
        <option value="">Select Category</option>
        <option value="clothing">Clothing</option>
        <option value="electronics">Electronics</option>
        <option value="furniture">Furniture</option>
        <option value="books">Books</option>
        <option value="sports">Sports</option>
      </select>
      <input id="itemName" type="text" placeholder="Item Name 📝" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-green-500" required>
      <input id="itemPrice" type="number" placeholder="Price ($) 💲" class="w-full px-4 py-3 border-2 rounded-lg focus:outline-green-500" required>
      <input id="itemImage" type="file" accept="image/*" class="w-full" required>
      <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-blue-500 text-white py-3 rounded-lg shadow hover:scale-105 transition">Submit</button>
    </form>
  </section>

  <!-- 🌿 Login, Signup, Payment Modal same as before (not rewritten for brevity) -->
  <!-- ... (keep the login/signup/payment modal from last version) ... -->

  <!-- 🌿 Footer -->
  <footer class="bg-gray-900 text-gray-300 py-8 text-center">
    <p>&copy; 2025 EcoFinds. All rights reserved.</p>
  </footer>

  <!-- 🌿 JS Logic -->
  <script>
    // Toggle Categories
    function toggleCategory(id) {
      document.getElementById(id).classList.toggle('hidden');
    }

    // Sell form logic with image
    document.getElementById("sellForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const category = document.getElementById("itemCategory").value;
      const name = document.getElementById("itemName").value;
      const price = document.getElementById("itemPrice").value;
      const imageFile = document.getElementById("itemImage").files[0];

      if (!category) {
        alert("Please select a category!");
        return;
      }

      const reader = new FileReader();
      reader.onload = function(event) {
        const imgSrc = event.target.result;
        const categoryDiv = document.getElementById(category);

        const itemDiv = document.createElement("div");
        itemDiv.className = "bg-white p-6 rounded-xl shadow hover:scale-105 transition";
        itemDiv.innerHTML = `
          <img src="${imgSrc}" alt="${name}" class="w-full h-40 object-cover rounded-lg mb-4">
          <h4 class="font-semibold">${name}</h4>
          <p class="text-green-600 font-bold">$${price}</p>
          <button onclick="openPayment('${name}', ${price})" class="bg-green-500 text-white px-4 py-2 rounded-lg mt-3 hover:bg-green-600">Buy Now</button>
        `;
        categoryDiv.appendChild(itemDiv);
      };
      reader.readAsDataURL(imageFile);

      this.reset();
    });

    // Payment modal
    function openPayment(item, price) {
      document.getElementById("paymentItem").innerText = "Pay for " + item;
      document.getElementById("paymentAmount").innerText = "Amount: $" + price;
      document.getElementById("paymentModal").classList.remove("hidden");
    }

    document.querySelectorAll("#paymentModal button").forEach(btn => {
      btn.addEventListener("click", () => {
        document.getElementById("paymentModal").classList.add("hidden");
      });
    });

    // 🔍 Search categories
    document.getElementById("searchBar").addEventListener("input", function() {
      const query = this.value.toLowerCase();
      document.querySelectorAll(".category").forEach(cat => {
        const categoryName = cat.getAttribute("data-category");
        if (categoryName.includes(query)) {
          cat.style.display = "block";
        } else {
          cat.style.display = "none";
        }
      });
    });
  </script>
</body>
</html>
